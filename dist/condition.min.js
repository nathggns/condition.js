/*!
 * condition v1.2.0
 * Copyright (c) 2013 Nathaniel Higgins; Licensed MIT
 * Built on 2013-09-04 
 */
!function(){var a="undefined"!=typeof setImmediate&&function(a){return setImmediate(a)}||function(a){return setTimeout(a,0)},b=function(a,b){if("undefined"!=typeof a.hasOwnProperty)return a.hasOwnProperty(b);if("undefined"!=typeof window&&window.hasOwnProperty)return window.hasOwnProperty.call(a,b);throw"Environment does not support hasOwnProperty"},c=function(a,b,c){for(var d in a)if(a.hasOwnProperty(d)){var e=b.call(c||a,a[d],d,a);if(e===!1)break}},d={callbacks:[],started:!1,add:function(a){this.started||this.start(),this.callbacks.push(a);var b=this.callbacks.length-1,c=this;return function(){c.remove(b)}},remove:function(a){var b=this.callbacks.splice(a,1);return this.started&&!this.callbacks.length&&this.stop(),b},start:function(){return this.started=!0,this.loop()},loop:function(){if(this.started){var b=this;return this.tick(),a(function(){return b.loop()})}},tick:function(){c(this.callbacks,function(a,b){a.call(this,b)},this)},stop:function(){this.started=!1}},e=function(a){var b=a.toString(),c=b.replace(/\s/g,"").split("function")[1].split(")")[0].split("(").slice(1)[0].split(",");return 1===c.length&&""===c[0]&&(c=[]),c},f=function(a,b,c){var f,g=function(){},h=a.async&&e(b).length>0,i=function(b){if(b){if("until"===a.type)return g();if(c(b),"wait"===a.type)return g()}else b||"until"!==a.type||c(b);h&&setTimeout(f)};f=function(){var c=b(a.async&&i);h||i(c)},h?setTimeout(f):g=d.add(f)},g={},h=function(a){return function(){return Array.prototype.unshift.call(arguments,{type:a,async:!0}),f.apply(this,arguments)}},i=["wait","when","until"];for(var j in i)b(i,j)&&(g[i[j]]=h(i[j]));g.condition=f,g.tick=a,g.has=b,g.args=e,"undefined"!=typeof module&&"exports"in module?module.exports=g:"undefined"!=typeof define?define(function(a,b,c){c.exports=g}):"undefined"!=typeof window&&(window.condition=g)}();